<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/home.css">
    <title>Home</title>

    <script>

        function pageLoad() {
            console.log("invoked pageload");

            //get the quizes and then display on page

            const url = "/quiz/list/";	// API method on webserver will be in Weight class with @Path of list

            fetch(url, {
                method: "GET",
            }).then(response => {
                return response.json();                 //return response to JSON
            }).then(response => {
                if (response.hasOwnProperty("Error")) { //checks if response from server has a key "Error"
                    alert(JSON.stringify(response));    // if it does, convert JSON object to string and alert
                } else {
                    formatQuizList(response);
                }
            });


        }

        function formatQuizList(response){
            console.log("invoked formatQuizList");
            console.log(response);

            //use code from week 1 to write a for loop that builds on the HTML for a table with each row being data from one of the
            //JSON objects in the JSON array of response


            for (let item of response) {                             //creates a table with rows for every item in JSON array
                document.getElementById("Quiz1").innerHTML=item.Title;
            }


        }


    </script>
</head>
<body onload="pageLoad()">
Welcome to Quiz World!!
<br>
<div class="Toolbar">
    <button id="ProfileButton" type="button" onclick=window.open("profile.html","_self")>Profile</button>
    <button id="CustomQuizButton" type="button">Custom Quizzes</button>
    <button id="LogOutButton" type="button" onclick='window.open("Login.html", "_self")'>Logout</button>

</div>
<br><br>
</body>

<div class="Quiz1">
    Trivia quiz
    <div class="MiniText1">
        Trivia Quiz regarding science, video games,
        pop culture, just about anything!
    </div>
    <br><br>
    <button type="button">Start Quiz</button>
</div>
<br>
<div class="Quiz2">
    Greg's Quiz
    <div class="MiniText2">
        The legendary Greg's quiz
    </div>
    <br><br>
    <button type="button">Start Quiz</button>
</div>
<br>
<div class="Quiz3">
    Amazing Quiz
    <div class="MiniText3">
        What an amazing quiz
    </div>
    <br><br>
    <button type="button">Start Quiz</button>
</div>
</html>