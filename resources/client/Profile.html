<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>


    <script>
        "use strict"

        function pageLoad() {
            console.log("Invoked pageLoad()");

            let username = getCookie('username');
            document.getElementById('username').innerHTML = username;

            const url = "/Achievements/list/";	// API method on webserver will be in Weight class with @Path of list

            fetch(url, {
                method: "GET",
            }).then(response => {
                return response.json();                 //return response to JSON
            }).then(response => {
                document.getElementById("Achievements").innerHTML = response;

        }


        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i <ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }


    </script>
</head>
<body class="center" onload="pageLoad()">
Welcome <span id="username"> </span>! <br>
<br>

Achievements earned: <span id="Achievements"> </span> <br>
<br>

</body>
</html>